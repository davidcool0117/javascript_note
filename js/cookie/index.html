<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì•ˆë…•í•˜ì„¸ìš”ğŸ…íŒì—…ì´ì—ìš”</title>
    <style>
      .popup {
        position: fixed;
        left: 100px;
        top: 100px;
        border: 1px solid #ebebeb;
        padding: 40px 60px;
        /* display: none; */
      }
    </style>
  </head>
  <body>
    <h1>ì•ˆë…•í•˜ì„¸ìš”ğŸ… ë‚´ìš© ì´ì—ìš”</h1>
    <div class="popup">
      <h2>íŒì—…ì´ì—ìš”</h2>
      <input type="checkbox" id="popup" />
      <label for="popup">ì˜¤ëŠ˜í•˜ë£¨ ì•ˆë³´ê¸°</label>
      <button class="close">ì°½ë‹«ê¸°</button>
    </div>
    <!-- ì¿ í‚¤ê°€ ìˆìœ¼ë©´ ì¬ë°©ë¬¸-> íŒì—… ì—´ì§€ ì•Šê¸° -->
    <!-- ì¿ í‚¤ê°€ ìˆìœ¼ë©´ ì‹ ê·œë°©ë¬¸-> íŒì—…ì—´ê¸° -->
    <script>
      //ë³€ìˆ˜ìƒì„±
      const myPop = document.querySelector(".popup"),
        checkbox = document.querySelector("#popup"),
        close = document.querySelector(".close");
        //ë°©ë¬¸ì—¬ë¶€ ì²´í¬ë³€ìˆ˜(css)
        let visited = false;

      function setCookie(name,value,day) {
        let date = new Date();
        date.setDate(date.getDate() + day);

        let setCookie = '';
        setCookie += name+'='+value+';';
        setCookie += 'Expires=' + date.toUTCString();

        document.cookie = setCookie;
      }
      function delCookie() {
        let date = new Date();
        date.setDate(date.getDate() - 1);
        let setCookie = '';
        setCookie += name+'=popup01;';
        setCookie += "Expires=" + date.toUTCString();
        document.cookie=setCookie;
      }
      //ì¿ í‚¤ì²´í¬
      function checkCookie(name){
        let cookies = document.cookie.split(';');
        //ë¸Œë¼ìš°ì €ì— ì €ì¥ëœ ì—¬ëŸ¬ê°œì˜ ì¿ í‚¤ì¤‘ì—ì„œ name ë§¤ê°œë³€ìˆ˜ì™€ ì¼ì¹˜í•˜ëŠ” ê°’ì„ ê²€ìƒ‰
        for (let i in cookies) {
            if (cookies[i].indexOf(name)>-1) {
                visited=true;
            }
        }
        console.log(cookies, visited);
        if(visited){
            myPop.style.display='none';
        } else {
            myPop.style.display='block';
        }
      }
      checkCookie('MangoWeb');
      close.addEventListener('click',function(){
        if(checkbox.checked){
            //ì˜¤ëŠ˜í•˜ë£¨ ì•ˆë³´ê¸°, ì¿ í‚¤ìƒì„±
            //setCookie(ì¿ í‚¤ëª…, ì¿ í‚¤ê°’, íŒŒê¸°ì¼(3))
            setCookie("MangoWeb","popup01",1)
            myPop.style.display='none';
        }else{
            //íŒì—…ë˜ë„ì›€
            delCookie("MangoWeb");
            myPop.style.display='none';
        }
      })
    </script>
  </body>
</html>
